<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trajanus Enterprise Hub</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- Header Bar -->
        <header class="header-bar">
            <div class="header-brand">
                <span class="header-logo">&#9670;</span>
                <span class="header-title">TRAJANUS</span>
            </div>
            <div class="header-controls">
                <div class="header-search">
                    <span>&#128269;</span>
                    <input type="text" placeholder="Search...">
                </div>
                <button class="header-icon-btn" title="Settings">&#9881;</button>
                <button class="header-icon-btn" title="User">&#128100;</button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Hero Title -->
            <section class="hero-title">
                <h1>TRAJANUS ENTERPRISE HUB <span class="trademark">| EI&#8482;</span></h1>
            </section>

            <!-- Greeting Row -->
            <div class="greeting-row">
                <h2 class="greeting">
                    <span id="greeting-text">Good morning</span>, <span class="greeting-name">Bill</span>.
                </h2>
                <span class="current-date" id="current-date">December 29, 2025</span>
            </div>

            <!-- Welcome Section -->
            <section class="welcome-section">
                <h2 class="welcome-title">Welcome to the Trajanus Enterprise Hub</h2>
                <p class="welcome-intro">
                    The Enterprise Hub is your central command interface for construction project management,
                    quality control, traffic engineering, and development operations. Built on Trajanus
                    Engineered Intelligence (EI&#8482;), this platform integrates federal contract management
                    workflows with AI-assisted tools and automation.
                </p>

                <div class="welcome-grid">
                    <div class="welcome-block">
                        <h3>Platforms</h3>
                        <p>Four specialized toolkits provide focused functionality:</p>
                        <ul>
                            <li>Project Management - Scheduling, cost tracking, document control, EV reporting</li>
                            <li>Quality Control - Submittal review, inspections, deficiency tracking, QC logs</li>
                            <li>Traffic Studies - Impact analysis, data processing, report generation</li>
                            <li>Developer Toolkit - Scripts, file conversion, session management, AI tools</li>
                        </ul>
                    </div>

                    <div class="welcome-block">
                        <h3>Navigation</h3>
                        <p>Click any toolkit card to enter that platform. Use Quick Tools for frequently accessed functions. External Applications open partner systems in new tabs.</p>
                    </div>

                    <div class="welcome-block">
                        <h3>AI Integration</h3>
                        <ul>
                            <li>Claude Assistant - Embedded AI panel for quick questions and task support</li>
                            <li>Claude Full Chat - Opens claude.ai for extended conversations and complex work</li>
                        </ul>
                        <p>Your active projects and recent activity are displayed below.</p>
                    </div>
                </div>
            </section>

            <!-- Active Projects -->
            <section class="projects-section">
                <div class="section-header">
                    <h2 class="section-title">Active Projects</h2>
                </div>

                <div class="projects-grid">
                    <!-- SOUTHCOM Guatemala -->
                    <div class="project-card">
                        <div class="project-name">SOUTHCOM Guatemala</div>
                        <div class="project-subtitle">Infrastructure</div>
                        <div class="project-divider"></div>
                        <div class="project-details">
                            <strong>Contract:</strong> W9127823R0034<br>
                            <strong>Value:</strong> $47.2M<br>
                            <strong>Type:</strong> Federal Construction<br>
                            <div class="project-status">
                                <span class="status-dot active"></span>
                                <span>Active - Day 847</span>
                            </div>
                        </div>
                    </div>

                    <!-- Grace Fellowship -->
                    <div class="project-card">
                        <div class="project-name">Grace Fellowship</div>
                        <div class="project-subtitle">Traffic Study</div>
                        <div class="project-divider"></div>
                        <div class="project-details">
                            <strong>Client:</strong> Grace Fellowship Church<br>
                            <strong>Type:</strong> Traffic Impact Analysis<br>
                            <div class="project-status">
                                <span class="status-dot active"></span>
                                <span>Active</span>
                            </div>
                        </div>
                    </div>

                    <!-- Kwajalein -->
                    <div class="project-card">
                        <div class="project-name">Base Housing - Kwajalein</div>
                        <div class="project-subtitle"></div>
                        <div class="project-divider"></div>
                        <div class="project-details">
                            <strong>Location:</strong> Kwajalein Atoll, Marshall Islands<br>
                            <strong>Type:</strong> Military Housing<br>
                            <div class="project-status">
                                <span class="status-dot planning"></span>
                                <span>Planning</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Quick Stats -->
            <section class="quick-stats">
                <div class="stat-card">
                    <div class="stat-icon">&#9670;</div>
                    <div class="stat-number">247</div>
                    <div class="stat-label">Documents this month</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">&#9670;</div>
                    <div class="stat-number">12</div>
                    <div class="stat-label">Pending submittals</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">&#9670;</div>
                    <div class="stat-number">3</div>
                    <div class="stat-label">Open RFIs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">&#9670;</div>
                    <div class="stat-number">8</div>
                    <div class="stat-label">Actions due this week</div>
                </div>
            </section>

            <!-- Operations Section -->
            <section class="operations-section">
                <div class="section-header">
                    <h2 class="section-title">Operations</h2>
                </div>

                <div class="operations-grid">
                    <!-- Project Management -->
                    <a href="toolkits/pm.html" class="toolkit-card">
                        <div class="toolkit-header">
                            <span class="toolkit-icon">&#9670;</span>
                            <h3 class="toolkit-title">Project Management</h3>
                        </div>
                        <div class="toolkit-divider"></div>
                        <ul class="toolkit-features">
                            <li>Schedule Analysis & Tracking</li>
                            <li>Cost Management & EV Reports</li>
                            <li>Document Control Systems</li>
                            <li>RFI & Correspondence</li>
                        </ul>
                        <div class="toolkit-description">
                            Integrated scheduling, cost tracking, and document control for federal construction contracts.
                            Connects to Primavera P6, Procore, and Corps of Engineers systems.
                        </div>
                        <div class="toolkit-actions">
                            <span class="toolkit-badge">Procore</span>
                            <span class="toolkit-badge">P6</span>
                        </div>
                        <div class="toolkit-enter">
                            Enter Toolkit <span>&#9654;</span>
                        </div>
                    </a>

                    <!-- Quality Control -->
                    <a href="toolkits/qcm.html" class="toolkit-card">
                        <div class="toolkit-header">
                            <span class="toolkit-icon">&#9670;</span>
                            <h3 class="toolkit-title">Quality Control</h3>
                        </div>
                        <div class="toolkit-divider"></div>
                        <ul class="toolkit-features">
                            <li>Submittal Review & Processing</li>
                            <li>Inspection Documentation</li>
                            <li>Deficiency Tracking</li>
                            <li>QC/QA Checklists</li>
                        </ul>
                        <div class="toolkit-description">
                            Submittal processing, inspection documentation, and deficiency tracking.
                            Interfaces with RMS 3.0 and generates QC reports for USACE compliance.
                        </div>
                        <div class="toolkit-actions">
                            <span class="toolkit-badge">RMS 3.0</span>
                            <span class="toolkit-badge">QC Logs</span>
                        </div>
                        <div class="toolkit-enter">
                            Enter Toolkit <span>&#9654;</span>
                        </div>
                    </a>

                    <!-- Traffic Studies -->
                    <a href="toolkits/traffic.html" class="toolkit-card">
                        <div class="toolkit-header">
                            <span class="toolkit-icon">&#9670;</span>
                            <h3 class="toolkit-title">Traffic Studies</h3>
                        </div>
                        <div class="toolkit-divider"></div>
                        <ul class="toolkit-features">
                            <li>Traffic Impact Analysis</li>
                            <li>Study Requirements & Guides</li>
                            <li>Data Processing Tools</li>
                            <li>Report Generation</li>
                        </ul>
                        <div class="toolkit-description">
                            Traffic impact analysis and study generation. Processes data from Synchro, HCS,
                            and field counts to produce jurisdiction-compliant reports.
                        </div>
                        <div class="toolkit-actions">
                            <span class="toolkit-badge">Synchro</span>
                            <span class="toolkit-badge">HCS</span>
                        </div>
                        <div class="toolkit-enter">
                            Enter Toolkit <span>&#9654;</span>
                        </div>
                    </a>

                    <!-- Developer Toolkit -->
                    <a href="toolkits/developer.html" class="toolkit-card">
                        <div class="toolkit-header">
                            <span class="toolkit-icon">&#9670;</span>
                            <h3 class="toolkit-title">Developer Toolkit</h3>
                        </div>
                        <div class="toolkit-divider"></div>
                        <ul class="toolkit-features">
                            <li>Script Browser & Execution</li>
                            <li>File Format Conversion</li>
                            <li>Session Documentation</li>
                            <li>Claude AI Assistant</li>
                        </ul>
                        <div class="toolkit-description">
                            Session management, script execution, and AI-assisted development.
                            Central control for file conversion, automation, and Claude integration.
                        </div>
                        <div class="toolkit-actions">
                            <span class="toolkit-badge">Scripts</span>
                            <span class="toolkit-badge">Converters</span>
                        </div>
                        <div class="toolkit-enter">
                            Enter Toolkit <span>&#9654;</span>
                        </div>
                    </a>
                </div>
            </section>

            <!-- Quick Tools Section -->
            <section class="quick-tools-section">
                <div class="section-header">
                    <h2 class="section-title">Quick Tools</h2>
                </div>

                <div class="quick-tools-grid">
                    <div class="quick-tool" onclick="Hub.launchTool('md-to-docs')">
                        <div class="quick-tool-icon">&#128196;</div>
                        <div class="quick-tool-label">MD to Docs</div>
                    </div>
                    <div class="quick-tool" onclick="Hub.launchTool('xer-parse')">
                        <div class="quick-tool-icon">&#128202;</div>
                        <div class="quick-tool-label">XER Parse</div>
                    </div>
                    <div class="quick-tool" onclick="Hub.launchTool('converter')">
                        <div class="quick-tool-icon">&#128260;</div>
                        <div class="quick-tool-label">Converter</div>
                    </div>
                    <div class="quick-tool" onclick="Hub.launchTool('browser')">
                        <div class="quick-tool-icon">&#128193;</div>
                        <div class="quick-tool-label">Browser</div>
                    </div>
                    <div class="quick-tool" onclick="Hub.launchTool('journal')">
                        <div class="quick-tool-icon">&#128203;</div>
                        <div class="quick-tool-label">Journal</div>
                    </div>
                    <div class="quick-tool" onclick="Hub.launchTool('claude')">
                        <div class="quick-tool-icon">&#129302;</div>
                        <div class="quick-tool-label">Claude</div>
                    </div>
                </div>
            </section>

            <!-- Applications Section -->
            <section class="applications-section">
                <div class="section-header">
                    <h2 class="section-title">Applications</h2>
                </div>

                <div class="applications-grid">
                    <div class="app-category">
                        <h4>Federal & DoD</h4>
                        <ul class="app-list">
                            <li><a href="https://rms.usace.army.mil" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> RMS 3.0</a></li>
                            <li><a href="https://cefms.usace.army.mil" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> CEFMS</a></li>
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> ENG Form 4025</a></li>
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> eCMS</a></li>
                        </ul>
                    </div>

                    <div class="app-category">
                        <h4>Project Controls</h4>
                        <ul class="app-list">
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> Primavera P6</a></li>
                            <li><a href="https://app.procore.com" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> Procore</a></li>
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> Oracle Unifier</a></li>
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> Microsoft Project</a></li>
                        </ul>
                    </div>

                    <div class="app-category">
                        <h4>Communication</h4>
                        <ul class="app-list">
                            <li><a href="https://teams.microsoft.com" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> Microsoft Teams</a></li>
                            <li><a href="https://outlook.office.com" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> Outlook</a></li>
                            <li><a href="https://zoom.us" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> Zoom</a></li>
                            <li><a href="https://claude.ai" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> Claude AI</a></li>
                        </ul>
                    </div>

                    <div class="app-category">
                        <h4>Documentation</h4>
                        <ul class="app-list">
                            <li><a href="https://drive.google.com" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> Google Drive</a></li>
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> SharePoint</a></li>
                            <li><a href="#" class="app-link"><span class="app-link-icon">&#9670;</span> Bluebeam Revu</a></li>
                            <li><a href="https://github.com" target="_blank" class="app-link"><span class="app-link-icon">&#9670;</span> GitHub</a></li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Recent Activity Section -->
            <section class="activity-section">
                <div class="section-header">
                    <h2 class="section-title">Recent Activity</h2>
                </div>

                <div class="activity-list">
                    <div class="activity-item">
                        <div class="activity-content">
                            <span class="activity-dot"></span>
                            <span class="activity-text">Session Summary uploaded to 03-Output</span>
                        </div>
                        <span class="activity-time">2 hours ago</span>
                    </div>
                    <div class="activity-item">
                        <div class="activity-content">
                            <span class="activity-dot"></span>
                            <span class="activity-text">XER Schedule W9127823R0034_Nov parsed</span>
                        </div>
                        <span class="activity-time">Yesterday</span>
                    </div>
                    <div class="activity-item">
                        <div class="activity-content">
                            <span class="activity-dot"></span>
                            <span class="activity-text">Submittal #247-ELEC converted to PDF</span>
                        </div>
                        <span class="activity-time">Dec 27</span>
                    </div>
                    <div class="activity-item">
                        <div class="activity-content">
                            <span class="activity-dot"></span>
                            <span class="activity-text">QCM Inspection Report generated</span>
                        </div>
                        <span class="activity-time">Dec 27</span>
                    </div>
                    <div class="activity-item">
                        <div class="activity-content">
                            <span class="activity-dot"></span>
                            <span class="activity-text">Traffic Study data imported</span>
                        </div>
                        <span class="activity-time">Dec 26</span>
                    </div>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <span class="footer-item">Trajanus USA</span>
            <span class="footer-item">High Springs, FL</span>
            <span class="footer-item">v0.3.0</span>
            <span class="footer-item footer-status">
                <span class="status-dot active"></span>
                Connected
            </span>
        </footer>
    </div>

    <script>
        // Tauri API
        const { invoke } = window.__TAURI__.core;

        // Hub Controller
        const Hub = {
            init() {
                this.updateGreeting();
                this.updateDate();
            },

            updateGreeting() {
                const hour = new Date().getHours();
                let greeting = 'Good evening';
                if (hour < 12) greeting = 'Good morning';
                else if (hour < 17) greeting = 'Good afternoon';
                document.getElementById('greeting-text').textContent = greeting;
            },

            updateDate() {
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                const date = new Date().toLocaleDateString('en-US', options);
                document.getElementById('current-date').textContent = date;
            },

            async launchTool(tool) {
                const SCRIPTS_PATH = 'G:\\My Drive\\00 - Trajanus USA\\00-Command-Center\\05-Scripts\\';

                switch(tool) {
                    case 'md-to-docs':
                        try {
                            await invoke('run_python_script', {
                                scriptPath: SCRIPTS_PATH + 'CONVERT_MD_TO_GDOCS_PERMANENT.py'
                            });
                        } catch(e) {
                            console.error('Failed to launch MD to Docs:', e);
                        }
                        break;
                    case 'xer-parse':
                        // Future: XER parser
                        console.log('XER Parse - Coming soon');
                        break;
                    case 'converter':
                        window.location.href = 'toolkits/developer.html';
                        break;
                    case 'browser':
                        try {
                            await invoke('run_python_script', {
                                scriptPath: SCRIPTS_PATH + 'SCRIPT_BROWSER.py'
                            });
                        } catch(e) {
                            console.error('Failed to launch browser:', e);
                        }
                        break;
                    case 'journal':
                        // Future: Journal template
                        console.log('Journal - Coming soon');
                        break;
                    case 'claude':
                        window.location.href = 'toolkits/developer.html';
                        break;
                }
            }
        };

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            Hub.init();
        });
    </script>
</body>
</html>
